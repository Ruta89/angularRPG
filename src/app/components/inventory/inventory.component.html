<div class="inventory-component">
  <button class="btn open-inventory" (click)="openInventory()">

    Inventory
  </button>
  <div *ngIf="inventoryIsOpen">
    <div class="dark-overlay" (click)="closeInventory()"> </div>
    <div class="inventory-screen">
      <div class="container-fluid">

        <div class="row">
          <div (click)="closeInventory()" class="close-button">
            <i class="fa fa-times"></i>

          </div>
          <div *ngFor="let hero of heroParty" class="col p-3 hero-tab">
            <h2 class="tect-center">
              {{hero.name}}
            </h2>
          </div>
          <div *ngIf="heroParty.length < 3 && availableHeroes.length && !isFighting" class="div">
            <i class="fa fa-plus"></i>
          </div>
        </div>

        <div *ngIf="showAvailableHeroesScreen" class="row available-heroes-screen h-100">
          <div class="col-4 p-3 text-center" *ngFor="let hero of availableHeroes">
            <img [src]="hero.spriteUrl" [alt]="hero.name" class="img-fluid mb-3">
            <h5> {{hero.name}} - {{hero.characterRole}} = lvl {{hero.level}} </h5>
            <div class="row">
              <div class="col skill d-flex flex-column">
                <h6>ATK</h6>
                <p>{{hero.skills.attack}}</p>

              </div>

              <div class="col skill d-flex flex-column">
                <h6>SNK</h6>
                <p>{{hero.skills.sneak}}</p>
              </div>

              <div class="col skill d-flex flex-column">
                <h6>PERS</h6>
                <p>{{hero.skills.persuade}}</p>
              </div>

              <div class="col skill d-flex flex-column">
                <h6>INT</h6>
                <p>{{hero.skills.intelligence}}</p>
              </div>
            </div>
            <button class="bnt" (click)="addHeroToParty(hero)">
              Add to Party
            </button>
          </div>

        </div>
        <div *ngIf="!showAvailableHeroesScreen" class="row">
          <div class="col-4 p-3 text-center">
            <img [src]="selectedHero.spriteUrl" [alt]="selectedHero.name" class="img-fluid mb-3">
            <h5> {{ selectedHero.spriteUrl}} - {{selectedHero.characterRole}} = lvl {{selectedHero.level}} </h5>
            <div class="row">
              <div class="col skill d-flex flex-column">
                <h6>ATK</h6>
                <p>{{selectedHero.skills.attack}}</p>
                <p *ngIf="selectedHero.availableSkillPoints" class="improve-skill" (click)="improveSkill(_characterSkills.attack)">
                  <i class="fa fa-plus"></i>

                </p>

              </div>

              <div class="col skill d-flex flex-column">
                <h6>SNK</h6>
                <p>{{selectedHero.skills.sneak}}</p>
                <p *ngIf="selectedHero.availableSkillPoints" class="improve-skill" (click)="improveSkill(_characterSkills.sneak)">
                  <i class="fa fa-plus"></i>

                </p>
              </div>

              <div class="col skill d-flex flex-column">
                <h6>PERS</h6>
                <p>{{selectedHero.skills.persuade}}</p>
                <p *ngIf="selectedHero.availableSkillPoints" class="improve-skill" (click)="improveSkill(_characterSkills.persuade)">
                  <i class="fa fa-plus"></i>

                </p>
              </div>

              <div class="col skill d-flex flex-column">
                <h6>INT</h6>
                <p>{{selectedHero.skills.intelligence}}</p>
                <p *ngIf="selectedHero.availableSkillPoints" class="improve-skill" (click)="improveSkill(_characterSkills.intelligence)">
                  <i class="fa fa-plus"></i>

                </p>
              </div>
            </div>
            <h6 *ngIf="selectedHero.availableSkillPoints">Abailable skill points {{selectedHero.availableSkillPoints}}

            </h6>
            <h6 *ngIf="!selectedHero.availableSkillPoints">Exp skill points {{selectedHero.experience}}

            </h6>
            <!-- <button class="bnt" (click)="addHeroToParty(selectedHero)">
                Add to Party
              </button> -->
          </div>
          <div class="col-4 p-3 text-center d-flex flex-column">

            <h3 class="mb-5">
              Przedmioty w ekwipunku
            </h3>
            <h6>Bron:</h6>
            <p class="mb-5">
              {{selectedHero.equippedWeapon.name}} -- min Damage: {{selectedHero.equippedWeapon.minDamage }} -- max Damage:{{selectedHero.equippedWeapon.maxDamage
              }}
            </p>
            <h6>Obrona:</h6>
            <p class="mb-5">
              {{selectedHero.equippedArmor.name}} -- ArmorBonus min Damage: {{selectedHero.equippedArmor.attackBarrierBonus }} --max Damage:
              {{selectedHero.equippedArmor }}
            </p>
            <h3 class="mb-3">
              Usun Bohatera z Imprezy

            </h3>
            <p *ngIf="selectedHero === mainCharacter" class="mb-5">
              nie mozesz usunac kjfkdslahjlfjdsalkh
            </p>
          </div>
          <button *ngIf="selectedHero !== mainCharacter" class="btn btn-danger">
            nie mozesz usunac
          </button>
        </div>
        <div class="col-4 p-3 text-center d-flex flex-column">
          <h3>Party Inventory</h3>
          <div class="inventory-display">
            <div *ngFor="let item of inventory" class="item p-3">
              <h6 class="text-left mb-3">
                {{item.name}}
                <!-- <span *ngIf="item"> -- Bron -- Min Damage:{{item.minDamage}}, Max Damage: {{item.maxDamage}} . </span> -->
                <span *ngIf="item"> -- Armor -- Armor Bonus: {{item.name }}</span>
              </h6>
              <button *ngIf="!isFighting" class="btn equip-button" (click)="equipItem(item)">
                Equip
              </button>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>
